<html>
<head>
<meta http-equiv="Content-Language" content="en-us">
<script type="text/javascript" src="data/data.js"></script>
<script language="javascript">
    var useranswers = new Array();
    var answered = 0;

    function renderQuiz() {
        var qCount = 0;
        for (i = 0; i < textArr.length; i++) {
            if (itType[i] == 1) {
                document.writeln('<p class="question"> ' + textArr[i] + ' </p>');
            }
            else {
                qCount++;
                document.writeln('<p class="question"> ' + '<b>Câu ' + qCount + ' : </b>' + textArr[i] + ' </p>');
                if (choices[i][0].length < 20 &&
					choices[i][1].length < 20 &&
					choices[i][2].length < 20 &&
					choices[i][3].length < 20) {
                    document.writeln('<table border="0" width="100%">');
                    document.writeln('<tr>');
                    j = 0;
                    document.writeln('<td><span id="result_' + i + '_' + j + '"><img src="' + blankImg + '"style="border:0" alt="" /></span>' +
					'<input type="radio" name="answer_' + i + '" value="' + choices[i][j] + '" id="answer_' + i + '_' + j + '" class="question_' + i +
					'" onclick="submitAnswer(' + i + ', ' + j + ', \'question_' + i + '\', \'label_' + i + '_' + j + '\')" /><label id="label_' + i + '_' + j + '" for="answer_' + i + '_' + j + '"> A. ' + choices[i][j] + '</label><br /></td>');
                    j = 1;
                    document.writeln('<td><span id="result_' + i + '_' + j + '"><img src="' + blankImg + '"style="border:0" alt="" /></span>' +
					'<input type="radio" name="answer_' + i + '" value="' + choices[i][j] + '" id="answer_' + i + '_' + j + '" class="question_' + i +
					'" onclick="submitAnswer(' + i + ', ' + j + ', \'question_' + i + '\', \'label_' + i + '_' + j + '\')" /><label id="label_' + i + '_' + j + '" for="answer_' + i + '_' + j + '"> B. ' + choices[i][j] + '</label><br /></td>');
                    j = 2;
                    document.writeln('<td><span id="result_' + i + '_' + j + '"><img src="' + blankImg + '"style="border:0" alt="" /></span>' +
					'<input type="radio" name="answer_' + i + '" value="' + choices[i][j] + '" id="answer_' + i + '_' + j + '" class="question_' + i +
					'" onclick="submitAnswer(' + i + ', ' + j + ', \'question_' + i + '\', \'label_' + i + '_' + j + '\')" /><label id="label_' + i + '_' + j + '" for="answer_' + i + '_' + j + '"> C. ' + choices[i][j] + '</label><br /></td>');
                    j = 3;
                    document.writeln('<td><span id="result_' + i + '_' + j + '"><img src="' + blankImg + '"style="border:0" alt="" /></span>' +
					'<input type="radio" name="answer_' + i + '" value="' + choices[i][j] + '" id="answer_' + i + '_' + j + '" class="question_' + i +
					'" onclick="submitAnswer(' + i + ', ' + j + ', \'question_' + i + '\', \'label_' + i + '_' + j + '\')" /><label id="label_' + i + '_' + j + '" for="answer_' + i + '_' + j + '"> D. ' + choices[i][j] + '</label><br /></td>');
                    document.writeln('</tr>');
                    document.writeln('</table>');
                }
                else if (choices[i][0].length < 70 &&
					choices[i][1].length < 70 &&
					choices[i][2].length < 70 &&
					choices[i][3].length < 70) {
                    document.writeln('<table border="0" width="100%">');
                    document.writeln('<tr>');
                    j = 0;
                    document.writeln('<td><span id="result_' + i + '_' + j + '"><img src="' + blankImg + '"style="border:0" alt="" /></span>' +
					'<input type="radio" name="answer_' + i + '" value="' + choices[i][j] + '" id="answer_' + i + '_' + j + '" class="question_' + i +
					'" onclick="submitAnswer(' + i + ', ' + j + ', \'question_' + i + '\', \'label_' + i + '_' + j + '\')" /><label id="label_' + i + '_' + j + '" for="answer_' + i + '_' + j + '"> A. ' + choices[i][j] + '</label><br /></td>');
                    j = 1;
                    document.writeln('<td><span id="result_' + i + '_' + j + '"><img src="' + blankImg + '"style="border:0" alt="" /></span>' +
					'<input type="radio" name="answer_' + i + '" value="' + choices[i][j] + '" id="answer_' + i + '_' + j + '" class="question_' + i +
					'" onclick="submitAnswer(' + i + ', ' + j + ', \'question_' + i + '\', \'label_' + i + '_' + j + '\')" /><label id="label_' + i + '_' + j + '" for="answer_' + i + '_' + j + '"> B. ' + choices[i][j] + '</label><br /></td>');
                    document.writeln('</tr>');

                    document.writeln('<tr>');
                    j = 2;
                    document.writeln('<td><span id="result_' + i + '_' + j + '"><img src="' + blankImg + '"style="border:0" alt="" /></span>' +
					'<input type="radio" name="answer_' + i + '" value="' + choices[i][j] + '" id="answer_' + i + '_' + j + '" class="question_' + i +
					'" onclick="submitAnswer(' + i + ', ' + j + ', \'question_' + i + '\', \'label_' + i + '_' + j + '\')" /><label id="label_' + i + '_' + j + '" for="answer_' + i + '_' + j + '"> C. ' + choices[i][j] + '</label><br /></td>');
                    j = 3;
                    document.writeln('<td><span id="result_' + i + '_' + j + '"><img src="' + blankImg + '"style="border:0" alt="" /></span>' +
					'<input type="radio" name="answer_' + i + '" value="' + choices[i][j] + '" id="answer_' + i + '_' + j + '" class="question_' + i +
					'" onclick="submitAnswer(' + i + ', ' + j + ', \'question_' + i + '\', \'label_' + i + '_' + j + '\')" /><label id="label_' + i + '_' + j + '" for="answer_' + i + '_' + j + '"> D. ' + choices[i][j] + '</label><br /></td>');
                    document.writeln('</tr>');
                    document.writeln('</table>');
                }
                else {
                    for (j = 0; j < choices[i].length; j++) {
                        document.writeln(
						'<span id="result_' + i + '_' + j + '"><img src="' + blankImg + '"style="border:0" alt="" /></span>' +
						'<input type="radio" name="answer_' + i + '" value="' + choices[i][j] + '" id="answer_' + i + '_' + j + '" class="question_' + i +
						'" onclick="submitAnswer(' + i + ', ' + j + ', \'question_' + i + '\', \'label_' + i + '_' + j + '\')" /><label id="label_' + i + '_' + j + '" for="answer_' + i + '_' + j + '"> ' + (j == 0 ? 'A' : (j == 1 ? 'B' : (j == 2 ? 'C' : 'D'))) + '. ' + choices[i][j] + '</label><br />');
                        document.writeln('<span id="hint_' + i + '"></span>');
                    }
                }
                useranswers[i] = -1;
            }
        }
        //document.writeln('<p><input type="submit" value="Hoàn thành" onclick="onDone()" /> ');
        //document.writeln('<input type="submit" value="Reset Quiz" onclick="resetQuiz(true)" /></p><p style="display:none"><img src="correct.gif" style="border:0" alt="Correct!" /><img src="incorrect.gif" style="border:0" alt="Incorrect!" /></p>');
    }

    function resetQuiz(showConfirm) {
        if (showConfirm)
            if (!confirm("B&#7841;n mu&#7889;n th&#7921;c hi&#7879;n l&#7841;i bài ki&#7875;m tra ?"))
                return false;
        document.location = document.location;
    }

    function submitAnswer(questionId, obj, classId, labelId) {
        useranswers[questionId] = obj;
        if (modeShowAnsIm) {
            //document.getElementById(labelId).style.color = "blue";
            disableQuestion(classId);
            showResult(questionId);
            answered++;
        }
    }

    function showResult(questionId) {
        if (itType[questionId] != 2) return;
        //document.getElementByID('answer_' + questionId).
        document.getElementById('result_' + questionId + '_' + answers[questionId]).innerHTML = '<img src="' + correctImg + '" style="border:0" alt="Correct!" />';

        if ((useranswers[questionId] != -1) && (answers[questionId] != useranswers[questionId]))
            document.getElementById('result_' + questionId + '_' + useranswers[questionId]).innerHTML = '<img src="' + incorrectImg + '" style="border:0" alt="Incorrect!" />';
    }

    function onDone() {
        if (!confirm("Bạn chắc chắn muốn dừng bài thi ở đây ?")) return false;
        questionCount = answers.length;
        correct = 0;
        incorrect = 0;
        disableAllQuestion();
        for (i = 0; i < questionCount; i++) {
            showResult(i);
            if (useranswers[i] == answers[i])
                correct++;
            else
                incorrect++;
        }
        /*
        pc = Math.round((correct / questionCount) * 100);
        alertMsg = "You scored " + correct + " out of " + questionCount + "\n\n";
        alertMsg += "You correctly answered " + pc + "% of the questions! \n\n";
        if(pc == 100)
        alertMsg += response[0];
        else if(pc >= 90)
        alertMsg += response[1];
        else if(pc >= 70)
        alertMsg += response[2];
        else if(pc > 50)
        alertMsg += response[3];
        else if(pc >= 40)
        alertMsg += response[4];
        else if(pc >= 20)
        alertMsg += response[5];
        else if(pc >= 10)
        alertMsg += response[6];
        else
        alertMsg += response[7];
        if(pc < 100) {
        if(confirm(alertMsg))
        resetQuiz(false);
        else
        return false;
        } else {
        alert(alertMsg);
        }
        */
    }

    function disableQuestion(classId) {
        var alltags = document.all ? document.all : document.getElementsByTagName("*")
        for (i2 = 0; i2 < alltags.length; i2++) {
            if (alltags[i2].className == classId) {
                alltags[i2].disabled = true;
            }
        }
    }

    function disableAllQuestion() {
        var alltags = document.all ? document.all : document.getElementsByTagName("*")
        for (i2 = 0; i2 < alltags.length; i2++) {
            alltags[i2].disabled = true;
        }
    }



</script>
    <style type="text/css">
        #Button1
        {
            height: 27px;
            width: 105px;
        }
    </style>
</head>

<body leftmargin="7%" rightmargin="7%">
<p align="center">
&nbsp;<span id="quest"><script type="text/javascript">
  renderQuiz();
</script></span></p>
<p align="center">
    <input id="Button1" type="button" value="Hoàn thành" /></p>
</body>